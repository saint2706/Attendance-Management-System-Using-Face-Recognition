{% extends "recognition/base.html" %}
{% load static %}

{% block title %}Attendance Dashboard{% endblock %}

{% block content %}
<div class="d-flex justify-content-between align-items-center mb-4">
    <h1>Attendance Dashboard</h1>
    <div>
        <a href="{% url 'view-attendance-employee' %}" class="btn btn-outline-primary">View by Employee</a>
        <a href="{% url 'view-attendance-date' %}" class="btn btn-outline-primary">View by Date</a>
    </div>
</div>

<div class="row">
    <div class="col-md-6 mb-4">
        <div class="card text-white bg-primary shadow-sm h-100">
            <div class="card-body text-center">
                <h5 class="card-title">Total Employees</h5>
                <p class="card-text display-4">{{ total_num_of_emp }}</p>
            </div>
        </div>
    </div>
    <div class="col-md-6 mb-4">
        <div class="card text-white bg-success shadow-sm h-100">
            <div class="card-body text-center">
                <h5 class="card-title">Employees Present Today</h5>
                <p class="card-text display-4">{{ emp_present_today }}</p>
            </div>
        </div>
    </div>
</div>

<div class="row mt-4">
    <div class="col-lg-6 mb-4">
        <div class="card shadow-sm">
            <div class="card-body">
                <h5 class="card-title text-center">This Week's Attendance</h5>
                {% if this_week_graph_url %}
                <img src="{{ this_week_graph_url }}" class="img-fluid" alt="This week's attendance graph">
                {% else %}
                <p class="text-muted text-center mb-0">Graphs will appear once attendance data is available.</p>
                {% endif %}
                <p class="card-text text-center text-muted mt-2">Number of employees present each day</p>
            </div>
        </div>
    </div>
    <div class="col-lg-6 mb-4">
        <div class="card shadow-sm">
            <div class="card-body">
                <h5 class="card-title text-center">Last Week's Attendance</h5>
                {% if last_week_graph_url %}
                <img src="{{ last_week_graph_url }}" class="img-fluid" alt="Last week's attendance graph">
                {% else %}
                <p class="text-muted text-center mb-0">Graphs will appear once attendance data is available.</p>
                {% endif %}
                <p class="card-text text-center text-muted mt-2">Number of employees present each day</p>
            </div>
        </div>
    </div>
</div>
{% endblock %}